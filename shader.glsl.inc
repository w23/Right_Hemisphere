; File generated with Shader Minifier 1.1.4
; http://www.ctrl-alt-test.fr
_var_FADE: db 'y', 0
_var_DISTORT: db 'n', 0
_var_GREYSCALE: db 'x', 0
_var_GREYSCALE2: db 'l', 0
_var_RED: db 'd', 0
_var_SCENE: db 'A', 0
_var_SHIFT11: db 'm', 0
_var_SHIFTX: db 'a', 0
_var_SHIFTY: db 's', 0
_var_SKIP: db 'c', 0
_var_STEPS: db 'i', 0
_var_T: db 'v', 0
_var_TIMESHIFT: db 'f', 0
_var_ZOOMXY: db 'k', 0
_var_ZOOMSHIFT: db 'z', 0

_shader_glsl:
	db '#define deltaAA 1./(3.*710.)', 10, ''
	db 'uniform float v,y,m,z,i,x,l,f,a,s,k,d,c,n,A;'
	db 'vec3 r[16];'
	db 'float e;'
	db 'vec3 p(vec3 y,vec3 v)'
	db '{'
	db   'vec3 f=sin(v),i=cos(v);'
	db   'return y*mat3(i.y,f.z*f.y,-f.y*i.z,-f.x*f.y,i.x*i.z+f.x*f.z*i.y,f.z*i.x-f.x*i.z*i.y,i.x*f.y,f.x*i.z-i.x*f.z*i.y,f.z*f.x+i.x*i.z*i.y);'
	db '}'
	db 'vec3 p(float y,float v,float x)'
	db '{'
	db   'return vec3(y*4.-2.,v*4.-2.,x*4.-2.);'
	db '}'
	db 'float h(vec3 y,vec3 i)'
	db '{'
	db   'vec3 r,x,z=vec3(.5,.5,.001);'
	db   'x=i;'
	db   'i.z=(i.z+e)*4.;'
	db   'r=y-i;'
	db   'r=p(r,(v+f)/29.*x);'
	db   'x=max(r-z,-r-z);'
	db   'return max(max(x.x,x.y),x.z);'
	db '}'
	db 'vec2 t(in vec2 i,in vec2 f)'
	db '{'
	db   'return vec2(i.x*f.x-i.y*f.y,i.y*f.x+i.x*f.y);'
	db '}'
	db 'vec2 h(vec2 i)'
	db '{'
	db   'return vec2(log(length(i)),atan(i.y,i.x));'
	db '}'
	db 'void main()'
	db '{'
	db   'e=z+smoothstep(120.,180.,v+f)*.6-smoothstep(240.,300.,v+f);'
	db   'float b,g,o,u=.0001,F,C=deltaAA/2.;'
	db   'vec3 w,Z=vec3(0.),Y,X,W,V,U,T,S=vec3(.5,.5,.001),R=vec3(0.,0.,0.),Q=vec3(u,0.,0.),P=vec3(0.,u,0.),O=vec3(0.,0.,u);'
	db   'for(int N=0;N<3;N++)'
	db     '{'
	db       'F=deltaAA/2.;'
	db       'for(int M=0;M<3;M++)'
	db         '{'
	db           'vec2 L=(gl_FragCoord.xy/vec2(1920.,1080.)+vec2(F,C)+vec2(a,s))/vec2(1.,16./9.)*k;'
	db           'if(A<1.)'
	db             '{'
	db               'r[0]=p(.044677,.928527,.337524);'
	db               'r[1]=p(.520019,.026367,.486328);'
	db               'r[2]=p(.026125,.984497,.337249);'
	db               'r[3]=p(.635498,.42041,.41748);'
	db               'r[4]=p(.558349,.929687,.849609);'
	db               'r[5]=p(.840576,.539917,.436889);'
	db               'r[6]=p(.096557,.049438,.537475);'
	db               'r[7]=p(.439819,.906127,.853759);'
	db               'r[8]=p(.291748,.75415,.479736);'
	db               'r[9]=p(.572753,.774047,.402343);'
	db               'r[10]=p(.565551,.614624,.542602);'
	db               'r[11]=p(.279052,.261779,.26455);'
	db               'r[12]=p(.62207,.145751,.537809);'
	db               'r[13]=p(.846801,.8208,.397094);'
	db               'r[14]=p(.905029,.469421,.400512);'
	db               'r[15]=p(.725585,.835769,.054077);'
	db               'r[11]-=m/vec3(70.,110.,-180.);'
	db               'b=1.;'
	db               'w=normalize(vec3(L,1.));'
	db               'for(int K=0;K<5;K++)'
	db                 '{'
	db                   'if(K>=int(i))'
	db                     'break;'
	db                   'g=26.;'
	db                   'for(int J=0;J<15;J++)'
	db                     'if(J!=int(c))'
	db                       'Y=r[J],Y.z=(Y.z+e)*4.,g=min(g,length(w*b-Y)-.71);'
	db                   'if(g<u)'
	db                     'break;'
	db                   'b+=g;'
	db                   'if(b>26.)'
	db                     'break;'
	db                 '}'
	db               'if(b<26.)'
	db                 '{'
	db                   'if(mod(L.y,.08)<.04)'
	db                     'b-=n;'
	db                   'w*=b;'
	db                   'g=26.;'
	db                   'for(int J=0;J<15;J++)'
	db                     '{'
	db                       'Y=r[J];'
	db                       'U=Y;'
	db                       'V=Y;'
	db                       'Y.z=(Y.z+e)*4.;'
	db                       'W=w-Y;'
	db                       'W=p(W,(v+f)/29.*V);'
	db                       'V=max(W-S,-W-S);'
	db                       'o=max(max(V.x,V.y),V.z);'
	db                       'if(o<g)'
	db                         'g=o,T=U;'
	db                     '}'
	db                   'R=normalize(vec3(h(w+Q,T)-h(w-Q,T),h(w+P,T)-h(w-P,T),h(w+O,T)-h(w-O,T)));'
	db                 '}'
	db               'Y=vec3(R.xy,vec3(1.-b/20.));'
	db               'Y.z+=Y.y/2.;'
	db               'Y.y=Y.y+Y.x;'
	db               'Z+=clamp(Y,0.,1.);'
	db               'X=vec3(Z.x+Z.z*l);'
	db               'Z=(1.-x)*Z+X*x;'
	db               'Z.xz+=d*vec2(abs(R.y),Z.z/3.);'
	db             '}'
	db           'else'
	db             '{'
	db               'vec2 J,K,I=L;'
	db               'for(int H=0;H<9;H++)'
	db                 'J=t(I,vec2(2.,2.1))+vec2(.3,-2.-x),K=t(h(t(I,vec2(l-2.,1.6))+vec2(-1.4,-1.75)),vec2(-2.,1.6)),K/=pow(length(K),2.),I=h(t(J,vec2(cos(K.y)*exp(K.x),sin(K.y)*exp(K.x))));'
	db               'I=abs(I);'
	db               'Z+=vec3(I.y,pow(length(I)/3.5,1.8),I.x/3.);'
	db             '}'
	db           'F+=deltaAA;'
	db         '}'
	db       'C+=deltaAA;'
	db     '}'
	db   'Z/=9.;'
	db   'gl_FragColor=vec4(Z*y,1.);'
	db '}', 0

