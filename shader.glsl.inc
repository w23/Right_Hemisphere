; File generated with Shader Minifier 1.1.4
; http://www.ctrl-alt-test.fr
_var_T: db 'i', 0

_shader_glsl:
	db 'uniform float i;'
	db 'vec3 f[16];'
	db 'float t;'
	db 'vec3 r(vec3 y,vec3 i)'
	db '{'
	db   'vec3 v=sin(i),t=cos(i);'
	db   'return y*mat3(t.y,v.z*v.y,-v.y*t.z,-v.x*v.y,t.x*t.z+v.x*v.z*t.y,v.z*t.x-v.x*t.z*t.y,t.x*v.y,v.x*t.z-t.x*v.z*t.y,v.z*v.x+t.x*t.z*t.y);'
	db '}'
	db 'vec3 r(float i,float y,float v)'
	db '{'
	db   'return vec3(i*4.-2.,y*4.-2.,v*4.-2.);'
	db '}'
	db 'float v(vec3 y,vec3 v)'
	db '{'
	db   'vec3 f,s,z=vec3(.5,.5,.001);'
	db   's=v;'
	db   'v.z=(v.z+t)*4.;'
	db   'f=y-v;'
	db   'f=r(f,(i+timeshift)/29.*s);'
	db   's=max(f-z,-f-z);'
	db   'return max(max(s.x,s.y),s.z);'
	db '}'
	db 'void main()'
	db '{'
	db   'float y,s;'
	db   '', 10, '#define Q(a,b)if(T<a){v+=T*b/a;break;}T-=a;v+=b', 10, ''
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,0.),Q(3.967,.3),Q(.033,.312),Q(.467,-.142),Q(.533,.056),Q(3.,.474),Q(127.7,0.),Q(17.267,-1.),Q(318.033,1.),Q(9.,-1.);'
	db   'Fade=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,300.),Q(3.,0.),Q(9.,-71.1),Q(.033,34.1),Q(11.967,-20.),Q(.033,-109.),Q(5.967,-47.231),Q(90.,78.462);'
	db   'shift11=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,2.8),Q(8.,0.),Q(.033,-.1),Q(1.967,.1),Q(19.,0.),Q(.033,-.2),Q(2.1,0.),Q(.033,.2),Q(36.833,0.),Q(.033,.2),Q(.5,0.),Q(.033,-.2),Q(27.433,0.),Q(.033,4.498),Q(.967,-.052),Q(15.,-4.246),Q(.3,2.791),Q(.2,-.245),Q(.167,.125),Q(.2,-.1),Q(.133,.025),Q(7.,-1.595),Q(5.,0.),Q(.033,-.4),Q(.533,.35),Q(.333,-.05),Q(1.1,.1);'
	db   'zoomshift=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,3.),Q(16.,0.),Q(.033,1.),Q(3.967,0.),Q(.033,-1.),Q(47.967,0.),Q(.033,-1.),Q(.5,0.),Q(.033,1.),Q(2.8,0.),Q(.033,-1.),Q(.633,0.),Q(.033,1.),Q(23.933,0.),Q(.033,-2.),Q(23.967,0.),Q(.033,1.);'
	db   'steps=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,0.),Q(96.,0.),Q(.033,1.),Q(12.967,0.),Q(2.967,-.1),Q(.067,.1),Q(5.967,0.),Q(2.,-.14),Q(.033,-.36),Q(4.967,-.2),Q(.033,-.3),Q(17.267,0.),Q(6.6,.433),Q(4.067,.267);'
	db   'greyscale=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,0.),Q(104.,0.),Q(.033,.85),Q(.7,-.42),Q(3.267,-.202),Q(4.,-.019),Q(.233,.199),Q(.1,.591),Q(3.367,0.),Q(4.3,-.5);'
	db   'greyscale2=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,86.),Q(12.,0.),Q(.033,78.),Q(3.967,0.),Q(.033,-375.),Q(3.967,-10.),Q(.033,385.),Q(3.967,0.),Q(1.,-158.),Q(55.033,0.),Q(.033,150.),Q(7.933,-6.),Q(.033,-28.),Q(7.967,-4.),Q(.033,-112.);'
	db   'timeshift=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,-.5),Q(8.,0.),Q(.033,.438),Q(3.967,0.),Q(.033,-.308),Q(3.933,0.),Q(.033,0.),Q(.033,-.61),Q(3.967,0.),Q(.033,.48),Q(60.,0.),Q(.033,.7),Q(7.933,-.2),Q(.033,-.45),Q(7.967,0.),Q(.033,-.05);'
	db   'shiftX=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,-.5),Q(8.,0.),Q(.033,-.3),Q(3.967,0.),Q(.033,.3),Q(3.967,0.),Q(.033,.78),Q(3.967,0.),Q(.033,-.78),Q(60.,0.),Q(.033,.1),Q(7.933,0.),Q(.033,-.1);'
	db   'shiftY=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,1.4),Q(8.,0.),Q(.033,-.36),Q(3.967,0.),Q(.033,.16),Q(.967,0.),Q(3.,-.082),Q(.033,-.638),Q(3.967,.02),Q(.033,.36),Q(3.967,-.01),Q(.033,.35),Q(6.967,0.),Q(3.,0.),Q(46.033,1.18),Q(.033,-1.68),Q(7.933,0.),Q(.033,.6),Q(7.967,-.15),Q(.033,.25),Q(23.967,0.),Q(.033,.25),Q(24.967,.55),Q(7.967,-.26);'
	db   'zoomXY=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,0.),Q(29.,0.),Q(2.133,1.),Q(.033,-1.),Q(2.867,0.),Q(.033,.4),Q(.1,0.),Q(.133,-.2),Q(.7,-.2),Q(3.,0.),Q(30.,.714),Q(.033,-.454),Q(.533,.34),Q(.033,-.26),Q(.9,.41),Q(10.533,.25),Q(.033,-1.),Q(9.933,0.),Q(.033,.25),Q(.233,-.02),Q(1.733,-.23),Q(33.,0.),Q(.033,.618),Q(1.967,-.618);'
	db   'red=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,15.),Q(28.,0.),Q(.033,-3.4),Q(.467,-2.6),Q(.033,-5.),Q(.5,-4.),Q(.033,15.),Q(42.333,0.),Q(.6,-15.),Q(.033,15.);'
	db   'skip=s;'
	db   'y=i;'
	db   's=0.;'
	db   'for(int z=0;z<1;++z)'
	db     'Q(0.,0.),Q(52.,0.),Q(.033,.35),Q(.4,-.25),Q(.033,.1),Q(.5,-.15),Q(.4,-.05),Q(14.633,0.),Q(.033,.25),Q(.533,-.15),Q(.033,.1),Q(1.2,-.2),Q(1.2,0.),Q(.033,.3),Q(.333,-.2),Q(.033,.2),Q(.6,.7),Q(.033,-.091),Q(.067,-.709),Q(.433,-.2);'
	db   'distort=s;'
	db   't=zoomshift+smoothstep(120.,180.,i+timeshift)*.6-smoothstep(240.,300.,i+timeshift);'
	db   'f[0]=r(.044677,.928527,.337524);'
	db   'f[1]=r(.520019,.026367,.486328);'
	db   'f[2]=r(.026125,.984497,.337249);'
	db   'f[3]=r(.635498,.42041,.41748);'
	db   'f[4]=r(.558349,.929687,.849609);'
	db   'f[5]=r(.840576,.539917,.436889);'
	db   'f[6]=r(.096557,.049438,.537475);'
	db   'f[7]=r(.439819,.906127,.853759);'
	db   'f[8]=r(.291748,.75415,.479736);'
	db   'f[9]=r(.572753,.774047,.402343);'
	db   'f[10]=r(.565551,.614624,.542602);'
	db   'f[11]=r(.279052,.261779,.26455);'
	db   'f[12]=r(.62207,.145751,.537809);'
	db   'f[13]=r(.846801,.8208,.397094);'
	db   'f[14]=r(.905029,.469421,.400512);'
	db   'f[15]=r(.725585,.835769,.054077);'
	db   'f[11]-=shift11/vec3(70.,110.,-180.);'
	db   'float z,a,m,e=.0001,x,Y=.00015;'
	db   'vec3 g,d=vec3(0.),b,X,p,k,l,o=vec3(.5,.5,.001),T=vec3(0.,0.,0.),c=vec3(e,0.,0.),n=vec3(0.,e,0.),h=vec3(0.,0.,e);'
	db   'for(int F=0;F<3;F++)'
	db     '{'
	db       'x=.00015;'
	db       'for(int u=0;u<3;u++)'
	db         '{'
	db           'vec2 C=(gl_FragCoord.xy/vec2(1920.,1080.)+vec2(x,Y)+vec2(shiftX,shiftY))/vec2(1.,16./9.)*zoomXY;'
	db           'z=1.;'
	db           'g=normalize(vec3(C,1.));'
	db           'for(int Z=0;Z<5;Z++)'
	db             '{'
	db               'if(Z>=int(steps))'
	db                 'break;'
	db               'a=26.;'
	db               'for(int W=0;W<15;W++)'
	db                 'if(W!=int(skip))'
	db                   'b=f[W],b.z=(b.z+t)*4.,a=min(a,length(g*z-b)-.71);'
	db               'if(a<e)'
	db                 'break;'
	db               'z+=a;'
	db               'if(z>26.)'
	db                 'break;'
	db             '}'
	db           'if(z<26.)'
	db             '{'
	db               'if(mod(C.y,.08)<.04)'
	db                 'z-=distort;'
	db               'g*=z;'
	db               'a=26.;'
	db               'for(int W=0;W<15;W++)'
	db                 '{'
	db                   'b=f[W];'
	db                   'k=b;'
	db                   'p=b;'
	db                   'b.z=(b.z+t)*4.;'
	db                   'X=g-b;'
	db                   'X=r(X,(i+timeshift)/29.*p);'
	db                   'p=max(X-o,-X-o);'
	db                   'm=max(max(p.x,p.y),p.z);'
	db                   'if(m<a)'
	db                     'a=m,l=k;'
	db                 '}'
	db               'T=normalize(vec3(v(g+c,l)-v(g-c,l),v(g+n,l)-v(g-n,l),v(g+h,l)-v(g-h,l)));'
	db             '}'
	db           'b=vec3(T.xy,vec3(1.-z/20.));'
	db           'b.z+=b.y/2.;'
	db           'b.y=b.y+b.x;'
	db           'd+=clamp(b,0.,1.);'
	db           'x+=.0003;'
	db         '}'
	db       'Y+=.0003;'
	db     '}'
	db   'd/=9.;'
	db   'd=(1.-greyscale)*d+vec3(d.x+d.z*greyscale2)*greyscale;'
	db   'd.xz+=red*vec2(abs(T.y),d.z/3.);'
	db   'gl_FragColor=vec4(d*Fade,1.);'
	db '}', 0

